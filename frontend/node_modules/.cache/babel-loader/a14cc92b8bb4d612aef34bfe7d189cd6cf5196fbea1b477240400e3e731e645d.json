{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SIVANAND\\\\OneDrive - Capgemini\\\\Desktop\\\\Subscribe\\\\frontend\\\\src\\\\ProfileScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { View, TextInput, Button, Alert, ActivityIndicator, StyleSheet } from 'react-native';\nimport axios from 'axios';\nimport { setAuthToken } from './axiosConfig';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfileScreen = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const fetchProfile = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get('https://subscription-cyan.vercel.app/api/auth/profile');\n      setEmail(response.data.email);\n    } catch (error) {\n      Alert.alert('Error', 'Failed to fetch profile. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleUpdateProfile = async () => {\n    if (!validateEmail(email)) {\n      Alert.alert('Error', 'Please enter a valid email address.');\n      return;\n    }\n    if (password.length < 6) {\n      Alert.alert('Error', 'Password must be at least 6 characters long.');\n      return;\n    }\n    setLoading(true);\n    try {\n      await axios.put('https://subscription-cyan.vercel.app/api/auth/profile', {\n        email,\n        password\n      });\n      Alert.alert('Success', 'Profile updated successfully');\n    } catch (error) {\n      Alert.alert('Error', 'Failed to update profile. Please check your input and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const validateEmail = email => {\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return re.test(String(email).toLowerCase());\n  };\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(View, {\n    style: styles.container,\n    children: loading ? /*#__PURE__*/_jsxDEV(ActivityIndicator, {\n      size: \"large\",\n      color: \"#0000ff\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TextInput, {\n        placeholder: \"Email\",\n        value: email,\n        onChangeText: setEmail,\n        style: styles.input,\n        accessibilityLabel: \"Email input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        placeholder: \"New Password\",\n        secureTextEntry: true,\n        value: password,\n        onChangeText: setPassword,\n        style: styles.input,\n        accessibilityLabel: \"Password input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        title: \"Update Profile\",\n        onPress: handleUpdateProfile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(ProfileScreen, \"NTuBuTewpujiBTusgv9ZxvtgOf0=\");\n_c = ProfileScreen;\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  input: {\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: 20,\n    width: '100%',\n    paddingHorizontal: 10\n  }\n});\nexport default ProfileScreen;\nvar _c;\n$RefreshReg$(_c, \"ProfileScreen\");","map":{"version":3,"names":["React","useState","useEffect","View","TextInput","Button","Alert","ActivityIndicator","StyleSheet","axios","setAuthToken","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileScreen","_s","email","setEmail","password","setPassword","loading","setLoading","fetchProfile","response","get","data","error","alert","handleUpdateProfile","validateEmail","length","put","re","test","String","toLowerCase","style","styles","container","children","size","color","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChangeText","input","accessibilityLabel","secureTextEntry","title","onPress","_c","create","flex","justifyContent","alignItems","padding","height","borderColor","borderWidth","marginBottom","width","paddingHorizontal","$RefreshReg$"],"sources":["C:/Users/SIVANAND/OneDrive - Capgemini/Desktop/Subscribe/frontend/src/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, TextInput, Button, Alert, ActivityIndicator, StyleSheet } from 'react-native';\r\nimport axios from 'axios';\r\nimport { setAuthToken } from './axiosConfig';\r\n\r\nconst ProfileScreen = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const fetchProfile = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await axios.get('https://subscription-cyan.vercel.app/api/auth/profile');\r\n            setEmail(response.data.email);\r\n        } catch (error) {\r\n            Alert.alert('Error', 'Failed to fetch profile. Please try again later.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleUpdateProfile = async () => {\r\n        if (!validateEmail(email)) {\r\n            Alert.alert('Error', 'Please enter a valid email address.');\r\n            return;\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            Alert.alert('Error', 'Password must be at least 6 characters long.');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            await axios.put('https://subscription-cyan.vercel.app/api/auth/profile', { email, password });\r\n            Alert.alert('Success', 'Profile updated successfully');\r\n        } catch (error) {\r\n            Alert.alert('Error', 'Failed to update profile. Please check your input and try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const validateEmail = (email) => {\r\n        const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        return re.test(String(email).toLowerCase());\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchProfile();\r\n    }, []);\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            {loading ? (\r\n                <ActivityIndicator size=\"large\" color=\"#0000ff\" />\r\n            ) : (\r\n                <>\r\n                    <TextInput\r\n                        placeholder=\"Email\"\r\n                        value={email}\r\n                        onChangeText={setEmail}\r\n                        style={styles.input}\r\n                        accessibilityLabel=\"Email input\"\r\n                    />\r\n                    <TextInput\r\n                        placeholder=\"New Password\"\r\n                        secureTextEntry\r\n                        value={password}\r\n                        onChangeText={setPassword}\r\n                        style={styles.input}\r\n                        accessibilityLabel=\"Password input\"\r\n                    />\r\n                    <Button title=\"Update Profile\" onPress={handleUpdateProfile} />\r\n                </>\r\n            )}\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        padding: 20,\r\n    },\r\n    input: {\r\n        height: 40,\r\n        borderColor: 'gray',\r\n        borderWidth: 1,\r\n        marginBottom: 20,\r\n        width: '100%',\r\n        paddingHorizontal: 10,\r\n    },\r\n});\r\n\r\nexport default ProfileScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}