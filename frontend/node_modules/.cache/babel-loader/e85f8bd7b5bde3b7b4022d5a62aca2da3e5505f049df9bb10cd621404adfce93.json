{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SIVANAND\\\\OneDrive - Capgemini\\\\Desktop\\\\Subscribe\\\\frontend\\\\src\\\\SignupScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { View, TextInput, Button, Text, ActivityIndicator, StyleSheet } from 'react-native';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignupScreen = _ref => {\n  _s();\n  let {\n    navigation\n  } = _ref;\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSignup = async () => {\n    setError(''); // Reset error message\n    setLoading(true); // Start loading\n\n    if (!validateEmail(email)) {\n      setError('Please enter a valid email address.');\n      setLoading(false);\n      return;\n    }\n    if (password.length < 6) {\n      setError('Password must be at least 6 characters long.');\n      setLoading(false);\n      return;\n    }\n    try {\n      await axios.post('https://subscription-cyan.vercel.app/api/auth/signup', {\n        email,\n        password\n      });\n      navigation.navigate('Login');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      // Check if the error response has a message\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Error creating account';\n      setError(errorMessage);\n    } finally {\n      setLoading(false); // Stop loading\n    }\n  };\n  const validateEmail = email => {\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return re.test(String(email).toLowerCase());\n  };\n  return /*#__PURE__*/_jsxDEV(View, {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(TextInput, {\n      placeholder: \"Email\",\n      value: email,\n      onChangeText: setEmail,\n      style: styles.input,\n      accessibilityLabel: \"Email input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      placeholder: \"Password\",\n      secureTextEntry: true,\n      value: password,\n      onChangeText: setPassword,\n      style: styles.input,\n      accessibilityLabel: \"Password input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), error ? /*#__PURE__*/_jsxDEV(Text, {\n      style: styles.error,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 22\n    }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n      title: \"Sign Up\",\n      onPress: handleSignup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(ActivityIndicator, {\n      size: \"large\",\n      color: \"#0000ff\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(SignupScreen, \"G/T6+fVRpp/0AVvTYcd6/2PGde0=\");\n_c = SignupScreen;\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  input: {\n    height: 40,\n    borderColor: 'gray',\n    borderWidth: 1,\n    marginBottom: 20,\n    width: '100%',\n    paddingHorizontal: 10\n  },\n  error: {\n    color: 'red',\n    marginBottom: 10\n  }\n});\nexport default SignupScreen;\nvar _c;\n$RefreshReg$(_c, \"SignupScreen\");","map":{"version":3,"names":["React","useState","View","TextInput","Button","Text","ActivityIndicator","StyleSheet","axios","jsxDEV","_jsxDEV","SignupScreen","_ref","_s","navigation","email","setEmail","password","setPassword","error","setError","loading","setLoading","handleSignup","validateEmail","length","post","navigate","err","_err$response","_err$response$data","errorMessage","response","data","message","re","test","String","toLowerCase","style","styles","container","children","placeholder","value","onChangeText","input","accessibilityLabel","fileName","_jsxFileName","lineNumber","columnNumber","secureTextEntry","title","onPress","size","color","_c","create","flex","justifyContent","alignItems","padding","height","borderColor","borderWidth","marginBottom","width","paddingHorizontal","$RefreshReg$"],"sources":["C:/Users/SIVANAND/OneDrive - Capgemini/Desktop/Subscribe/frontend/src/SignupScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, TextInput, Button, Text, ActivityIndicator, StyleSheet } from 'react-native';\r\nimport axios from 'axios';\r\n\r\nconst SignupScreen = ({ navigation }) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSignup = async () => {\r\n        setError(''); // Reset error message\r\n        setLoading(true); // Start loading\r\n\r\n        if (!validateEmail(email)) {\r\n            setError('Please enter a valid email address.');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            setError('Password must be at least 6 characters long.');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await axios.post('https://subscription-cyan.vercel.app/api/auth/signup', { email, password });\r\n            navigation.navigate('Login');\r\n        } catch (err) {\r\n            // Check if the error response has a message\r\n            const errorMessage = err.response?.data?.message || 'Error creating account';\r\n            setError(errorMessage);\r\n        } finally {\r\n            setLoading(false); // Stop loading\r\n        }\r\n    };\r\n\r\n    const validateEmail = (email) => {\r\n        const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        return re.test(String(email).toLowerCase());\r\n    };\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <TextInput\r\n                placeholder=\"Email\"\r\n                value={email}\r\n                onChangeText={setEmail}\r\n                style={styles.input}\r\n                accessibilityLabel=\"Email input\"\r\n            />\r\n            <TextInput\r\n                placeholder=\"Password\"\r\n                secureTextEntry\r\n                value={password}\r\n                onChangeText={setPassword}\r\n                style={styles.input}\r\n                accessibilityLabel=\"Password input\"\r\n            />\r\n            {error ? <Text style={styles.error}>{error}</Text> : null}\r\n            <Button title=\"Sign Up\" onPress={handleSignup} />\r\n            {loading && <ActivityIndicator size=\"large\" color=\"#0000ff\" />}\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        padding: 20,\r\n    },\r\n    input: {\r\n        height: 40,\r\n        borderColor: 'gray',\r\n        borderWidth: 1,\r\n        marginBottom: 20,\r\n        width: '100%',\r\n        paddingHorizontal: 10,\r\n    },\r\n    error: {\r\n        color: 'red',\r\n        marginBottom: 10,\r\n    },\r\n});\r\n\r\nexport default SignupScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}