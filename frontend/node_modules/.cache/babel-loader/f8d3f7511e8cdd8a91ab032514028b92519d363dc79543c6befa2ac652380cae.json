{"ast":null,"code":"import React,{useEffect,useState}from'react';import{View,Text,Button,FlatList}from'react-native';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PaymentScreen=()=>{const[payments,setPayments]=useState([]);const[amount,setAmount]=useState('');const fetchPayments=async()=>{const response=await axios.get('https://your-backend-url/api/payments/history');setPayments(response.data);};const handleAddPayment=async subscriptionId=>{await axios.post('https://your-backend-url/api/payments',{subscriptionId,amount});fetchPayments();// Refresh payment history\n};useEffect(()=>{fetchPayments();},[]);return/*#__PURE__*/_jsxs(View,{children:[/*#__PURE__*/_jsx(Text,{children:\"Your Payment History\"}),/*#__PURE__*/_jsx(FlatList,{data:payments,keyExtractor:item=>item._id,renderItem:_ref=>{let{item}=_ref;return/*#__PURE__*/_jsxs(Text,{children:[item.subscriptionId.name,\" - $\",item.amount,\" on \",new Date(item.date).toLocaleDateString()]});}}),/*#__PURE__*/_jsx(Button,{title:\"Add Payment\",onPress:()=>handleAddPayment('subscription_id_here')}),\" \"]});};export default PaymentScreen;","map":{"version":3,"names":["React","useEffect","useState","View","Text","Button","FlatList","axios","jsx","_jsx","jsxs","_jsxs","PaymentScreen","payments","setPayments","amount","setAmount","fetchPayments","response","get","data","handleAddPayment","subscriptionId","post","children","keyExtractor","item","_id","renderItem","_ref","name","Date","date","toLocaleDateString","title","onPress"],"sources":["C:/Users/SIVANAND/OneDrive - Capgemini/Desktop/Subscribe/frontend/src/PaymentScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, Text, Button, FlatList } from 'react-native';\r\nimport axios from 'axios';\r\n\r\nconst PaymentScreen = () => {\r\n    const [payments, setPayments] = useState([]);\r\n    const [amount, setAmount] = useState('');\r\n\r\n    const fetchPayments = async () => {\r\n        const response = await axios.get('https://your-backend-url/api/payments/history');\r\n        setPayments(response.data);\r\n    };\r\n\r\n    const handleAddPayment = async (subscriptionId) => {\r\n        await axios.post('https://your-backend-url/api/payments', { subscriptionId, amount });\r\n        fetchPayments(); // Refresh payment history\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchPayments();\r\n    }, []);\r\n\r\n    return (\r\n        <View>\r\n            <Text>Your Payment History</Text>\r\n            <FlatList\r\n                data={payments}\r\n                keyExtractor={(item) => item._id}\r\n                renderItem={({ item }) => (\r\n                    <Text>{item.subscriptionId.name} - ${item.amount} on {new Date(item.date).toLocaleDateString()}</Text>\r\n                )}\r\n            />\r\n            <Button title=\"Add Payment\" onPress={() => handleAddPayment('subscription_id_here')} /> {/* Replace with actual logic */}\r\n        </View>\r\n    );\r\n};\r\n\r\nexport default PaymentScreen;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,IAAI,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,cAAc,CAC3D,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAExC,KAAM,CAAAe,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACY,GAAG,CAAC,+CAA+C,CAAC,CACjFL,WAAW,CAACI,QAAQ,CAACE,IAAI,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,KAAO,CAAAC,cAAc,EAAK,CAC/C,KAAM,CAAAf,KAAK,CAACgB,IAAI,CAAC,uCAAuC,CAAE,CAAED,cAAc,CAAEP,MAAO,CAAC,CAAC,CACrFE,aAAa,CAAC,CAAC,CAAE;AACrB,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACZgB,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIN,KAAA,CAACR,IAAI,EAAAqB,QAAA,eACDf,IAAA,CAACL,IAAI,EAAAoB,QAAA,CAAC,sBAAoB,CAAM,CAAC,cACjCf,IAAA,CAACH,QAAQ,EACLc,IAAI,CAAEP,QAAS,CACfY,YAAY,CAAGC,IAAI,EAAKA,IAAI,CAACC,GAAI,CACjCC,UAAU,CAAEC,IAAA,MAAC,CAAEH,IAAK,CAAC,CAAAG,IAAA,oBACjBlB,KAAA,CAACP,IAAI,EAAAoB,QAAA,EAAEE,IAAI,CAACJ,cAAc,CAACQ,IAAI,CAAC,MAAI,CAACJ,IAAI,CAACX,MAAM,CAAC,MAAI,CAAC,GAAI,CAAAgB,IAAI,CAACL,IAAI,CAACM,IAAI,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAO,CAAC,EACxG,CACL,CAAC,cACFxB,IAAA,CAACJ,MAAM,EAAC6B,KAAK,CAAC,aAAa,CAACC,OAAO,CAAEA,CAAA,GAAMd,gBAAgB,CAAC,sBAAsB,CAAE,CAAE,CAAC,IAAC,EACtF,CAAC,CAEf,CAAC,CAED,cAAe,CAAAT,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}